<table [appSpinner]="spinner" mat-table #sortTable matSort [dataSource]="dataSource">
  <ng-container *ngFor="let column of data.columns" [matColumnDef]="column">
    <ng-container *ngIf="column === 'name'; else thWithoutSort">
      <th mat-header-cell mat-sort-header *matHeaderCellDef>{{ formatHeader(column) }}</th>
    </ng-container>
    <ng-template #thWithoutSort>
      <th mat-header-cell *matHeaderCellDef>{{ formatHeader(column) }}</th>
    </ng-template>
    <td mat-cell *matCellDef="let element">{{ formatCellValue(element[column]) }}</td>
  </ng-container>
  <tr mat-header-row *matHeaderRowDef="data.columns"></tr>
  <tr
    class="table-row"
    (click)="tableRowClick(row)"
    mat-row
    *matRowDef="let row; columns: data.columns"
  ></tr>
</table>
